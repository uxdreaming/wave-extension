<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wave</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="app">
    <!-- Header -->
    <header class="header">
      <div class="logo">
        <svg class="logo-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M2 12C2 12 5 8 8 8C11 8 13 16 16 16C19 16 22 12 22 12" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/>
          <path d="M2 17C2 17 5 13 8 13C11 13 13 21 16 21C19 21 22 17 22 17" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" opacity="0.5"/>
        </svg>
        <span class="logo-text">Wave</span>
      </div>
      <button id="btn-theme" class="btn-theme" title="Toggle theme">
        <svg class="icon-sun" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="5"/>
          <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
        </svg>
        <svg class="icon-moon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/>
        </svg>
      </button>
    </header>

    <!-- Idle Panel -->
    <section id="panel-idle" class="panel">
      <div class="input-group">
        <label for="workflow-name" class="label">New Workflow</label>
        <input
          type="text"
          id="workflow-name"
          class="input"
          placeholder="e.g. Login to Figma"
          autocomplete="off"
        >
      </div>
      <button id="btn-start" class="btn btn-primary btn-large">
        <svg class="btn-svg" viewBox="0 0 24 24" fill="currentColor">
          <circle cx="12" cy="12" r="6"/>
        </svg>
        Start Recording
      </button>
    </section>

    <!-- Recording Panel -->
    <section id="panel-recording" class="panel hidden">
      <div class="recording-indicator">
        <span class="recording-dot"></span>
        <span class="recording-text">Recording</span>
      </div>
      <div class="recording-info">
        <span id="recording-name" class="recording-name">Workflow</span>
        <span id="step-count" class="step-count">0 steps</span>
      </div>
      <button id="btn-stop" class="btn btn-dark btn-large">
        <svg class="btn-svg" viewBox="0 0 24 24" fill="currentColor">
          <rect x="6" y="6" width="12" height="12" rx="1"/>
        </svg>
        Stop & Save
      </button>
    </section>

    <!-- Playing Panel -->
    <section id="panel-playing" class="panel hidden">
      <div class="playing-indicator">
        <div class="spinner"></div>
        <span>Running workflow...</span>
      </div>
    </section>

    <!-- Workflows Section -->
    <section class="workflows-section">
      <header class="section-header">
        <h2 class="section-title">Workflows <span id="workflow-count" class="badge">0</span></h2>
        <div class="header-actions">
          <div class="sort-dropdown">
            <button id="btn-sort" class="btn btn-ghost btn-icon" title="Sort">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 6h18M6 12h12M9 18h6"/>
              </svg>
            </button>
            <div id="sort-menu" class="sort-menu hidden">
              <button class="sort-option active" data-sort="recent">Recent</button>
              <button class="sort-option" data-sort="frequency">Most Used</button>
              <button class="sort-option" data-sort="alphabetical">A-Z</button>
            </div>
          </div>
          <button id="btn-toggle-archived" class="btn btn-ghost btn-icon" title="Show archived">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 8v13H3V8M1 3h22v5H1zM10 12h4"/>
            </svg>
          </button>
        </div>
      </header>

      <div id="workflows-list" class="workflows-list">
        <!-- Workflows rendered here -->
      </div>

      <div id="empty-state" class="empty-state hidden">
        <p>No workflows yet</p>
        <p class="empty-hint">Record your first workflow</p>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <button id="btn-import" class="btn btn-ghost btn-small">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"/>
        </svg>
        Import
      </button>
      <button id="btn-export" class="btn btn-ghost btn-small">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12"/>
        </svg>
        Export
      </button>
      <input type="file" id="import-file" accept=".json" style="display: none">
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>
