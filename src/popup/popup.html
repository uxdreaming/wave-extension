<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wave - Browser Automation</title>
  <link rel="stylesheet" href="popup.css">
  <link rel="icon" href="../../icons/wave-32.png" type="image/png">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="logo">
        <svg class="logo-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M2 12C2 12 5 8 8 8C11 8 13 16 16 16C19 16 22 12 22 12" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/>
          <path d="M2 17C2 17 5 13 8 13C11 13 13 21 16 21C19 21 22 17 22 17" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" opacity="0.5"/>
        </svg>
        <span class="logo-text">Wave</span>
      </div>
      <button id="btn-theme" class="btn-theme" title="Toggle theme">
        <svg class="icon-sun" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="5"/>
          <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
        </svg>
        <svg class="icon-moon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/>
        </svg>
      </button>
    </header>

    <!-- Main Content -->
    <main class="main">
      <!-- Recording Panel -->
      <section id="panel-idle" class="panel">
        <div class="input-group">
          <label for="workflow-name" class="label">Workflow name</label>
          <input
            type="text"
            id="workflow-name"
            class="input"
            placeholder="e.g. Login to Figma"
            autocomplete="off"
          >
        </div>
        <button id="btn-start" class="btn btn-primary btn-large">
          <svg class="btn-svg" viewBox="0 0 24 24" fill="currentColor">
            <circle cx="12" cy="12" r="6"/>
          </svg>
          Start Recording
        </button>
      </section>

      <!-- Recording Active Panel -->
      <section id="panel-recording" class="panel hidden">
        <div class="recording-indicator">
          <span class="recording-dot"></span>
          <span class="recording-text">Recording</span>
        </div>
        <div class="recording-info">
          <span id="recording-name" class="recording-name">Workflow</span>
          <span id="step-count" class="step-count">0 steps</span>
        </div>
        <button id="btn-stop" class="btn btn-dark btn-large">
          <svg class="btn-svg" viewBox="0 0 24 24" fill="currentColor">
            <rect x="6" y="6" width="12" height="12" rx="1"/>
          </svg>
          Stop & Save
        </button>
        <p class="hint">Interact with the page. Your actions are being recorded.</p>
      </section>

      <!-- Playing Panel -->
      <section id="panel-playing" class="panel hidden">
        <div class="playing-indicator">
          <div class="spinner"></div>
          <span>Running workflow...</span>
        </div>
      </section>
    </main>

    <!-- Workflows List -->
    <section class="workflows-section">
      <div class="section-header">
        <h2 class="section-title">My Workflows</h2>
        <div class="section-actions">
          <button id="btn-toggle-archived" class="btn btn-ghost btn-small" title="Show/hide archived">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 8v13H3V8M1 3h22v5H1zM10 12h4"/>
            </svg>
            <span class="btn-label">Archived</span>
          </button>
          <button id="btn-import" class="btn btn-ghost btn-small" title="Import workflows">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"/>
            </svg>
            <span class="btn-label">Import</span>
          </button>
          <button id="btn-export" class="btn btn-ghost btn-small" title="Export all workflows">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12"/>
            </svg>
            <span class="btn-label">Export</span>
          </button>
          <span id="workflow-count" class="badge">0</span>
        </div>
      </div>
      <input type="file" id="import-file" accept=".json" style="display: none">
      <div id="workflows-list" class="workflows-list">
        <!-- Workflows rendered here -->
      </div>
      <div id="empty-state" class="empty-state">
        <svg class="empty-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <path d="M19 11H5M19 11C20.1046 11 21 11.8954 21 13V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V13C3 11.8954 3.89543 11 5 11M19 11V9C19 7.89543 18.1046 7 17 7M5 11V9C5 7.89543 5.89543 7 7 7M7 7V5C7 3.89543 7.89543 3 9 3H15C16.1046 3 17 3.89543 17 5V7M7 7H17"/>
        </svg>
        <p>No workflows yet</p>
        <p class="empty-hint">Record your first workflow above</p>
      </div>
    </section>
  </div>

  <script src="popup.js"></script>
</body>
</html>
